# 常见问题解决

## 开发环境问题

### Node.js 安装问题

**问题：版本冲突**

不同项目需要不同 Node.js 版本，导致冲突。

**解决方案**：使用 nvm（Node Version Manager）管理多个 Node.js 版本。

```bash
# 安装 nvm
curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.39.0/install.sh | bash

# 安装指定版本
nvm install 18

# 切换版本
nvm use 18

# 设置默认版本
nvm alias default 18
```

**问题：npm 安装慢**

使用 npm 安装依赖很慢。

**解决方案**：使用国内镜像或 pnpm。

```bash
# 使用淘宝镜像
npm config set registry https://registry.npmmirror.com

# 或使用 pnpm
npm install -g pnpm
pnpm install
```

### Git 相关问题

**问题：git push 失败**

远程仓库有新内容，需要先 pull。

**解决方案**：先 pull 再 push。

```bash
git pull origin main --rebase
git push origin main
```

**问题：合并冲突**

多人协作时产生冲突。

**解决方案**：手动解决冲突，然后提交。

```bash
# 查看冲突文件
git status

# 编辑冲突文件，解决冲突
# 冲突标记：<<<<<<< ======= >>>>>>>

# 标记冲突已解决
git add <file>

# 完成合并
git commit
```

**问题：误删恢复**

误删了文件或提交。

**解决方案**：使用 reflog 找回。

```bash
# 查看所有操作记录
git reflog

# 恢复到指定状态
git checkout <commit_id>
```

### 端口被占用

**问题：启动服务时提示端口被占用。**

**解决方案**：找到占用端口的进程并终止。

```bash
# Windows
netstat -ano | findstr :3000
taskkill /PID <PID> /F

# Mac/Linux
lsof -i :3000
kill -9 <PID>
```

## 代码问题

### JavaScript 常见问题

**问题：this 指向错误**

在回调函数中 this 指向不对。

**解决方案**：使用箭头函数或保存 this。

```javascript
// 问题
obj.method(function() {
  console.log(this.value); // this 不是 obj
});

// 解决方案 1：箭头函数
obj.method(() => {
  console.log(this.value); // this 是 obj
});

// 解决方案 2：保存 this
const self = this;
obj.method(function() {
  console.log(self.value);
});
```

**问题：异步处理困惑**

不熟悉 Promise 和 async/await。

**解决方案**：理解异步编程的概念。

```javascript
// Promise 基础
fetch(url)
  .then(response => response.json())
  .then(data => console.log(data))
  .catch(error => console.error(error));

// async/await
async function getData() {
  try {
    const response = await fetch(url);
    const data = await response.json();
    console.log(data);
  } catch (error) {
    console.error(error);
  }
}
```

**问题：数组操作不熟悉**

不熟悉数组方法。

**解决方案**：常用数组方法。

```javascript
const arr = [1, 2, 3, 4, 5];

// 遍历
arr.forEach(item => console.log(item));

// 过滤
arr.filter(item => item > 2); // [3, 4, 5]

// 映射
arr.map(item => item * 2); // [2, 4, 6, 8, 10]

// 查找
arr.find(item => item > 3); // 4

// 汇总
arr.reduce((sum, item) => sum + item, 0); // 15

// 判断
arr.some(item => item > 4); // true
arr.every(item => item > 0); // true
```

### CSS 常见问题

**问题：居中失效**

元素无法居中。

**解决方案**：使用现代居中方法。

```css
/* Flex 居中 */
.parent {
  display: flex;
  justify-content: center;
  align-items: center;
}

/* Grid 居中 */
.parent {
  display: grid;
  place-items: center;
}
```

**问题：样式冲突**

CSS 样式被覆盖。

**解决方案**：使用更具体的选择器或 BEM 命名。

```css
/* 使用更具体的选择器 */
.container .item { }

/* BEM 命名 */
.block__element--modifier { }
```

### Vue/React 常见问题

**Vue：数据更新后视图不更新**

直接修改数组或对象属性。

**解决方案**：使用响应式方法。

```javascript
// 问题
this.items[0] = {};

// 解决方案
this.items.splice(0, 1, {});
this.items = [...this.items];
```

**React：组件不更新**

state 或 props 没有正确更新。

**解决方案**：确保 state 更新是新的引用。

```javascript
// 问题：直接修改对象
state.name = 'new name';

// 解决方案：创建新对象
setState({ ...state, name: 'new name' });
```

## 调试问题

### 浏览器调试

**问题：看不到控制台错误**

打开浏览器开发者工具查看。

快捷键：F12 或 Ctrl+Shift+I。

### 网络请求问题

**问题：API 请求失败**

检查网络、URL、请求参数。

```javascript
// 添加错误处理
try {
  const response = await fetch(url);
  if (!response.ok) throw new Error('请求失败');
  const data = await response.json();
} catch (error) {
  console.error('错误:', error);
}
```

### 移动端调试

**问题：手机端无法调试**

使用 Chrome 远程调试。

USB 连接手机 → 打开开发者工具 → 更多工具 → 远程设备。

## 性能问题

### 页面加载慢

**解决方案**：分析并优化。

```javascript
// 使用 Chrome DevTools Performance 面板分析
// 常见优化：
// 1. 压缩资源
// 2. 使用 CDN
// 3. 图片懒加载
// 4. 代码分割
```

### 接口响应慢

**解决方案**：优化后端和数据库。

```sql
-- 添加索引
CREATE INDEX idx_column ON table_name(column);

-- 优化查询
SELECT * FROM table WHERE indexed_column = ?;
-- 避免 SELECT *
-- 使用分页
```

## 部署问题

### 部署后页面空白

**问题**：可能是路由模式或路径问题。

**解决方案**：配置正确的路由模式。

```javascript
// Vue Router history 模式需要服务器支持
const router = createRouter({
  history: createWebHistory(),
  routes: [...]
});

// Nginx 配置
location / {
  try_files $uri $uri/ /index.html;
}
```

### 环境变量不生效

**问题**：环境变量没有正确读取。

**解决方案**：检查变量名前缀和访问方式。

```javascript
// .env 文件
VITE_API_URL=https://api.example.com

// Vue 3 中使用
import.meta.env.VITE_API_URL
```

### HTTPS 证书问题

**问题**：网站不安全提示。

**解决方案**：安装 SSL 证书。

使用 Let's Encrypt 免费证书：

```bash
# 使用 certbot
certbot --nginx
```

## AI 使用问题

### AI 回答不准确

**问题**：AI 生成的代码有错误或不完整。

**解决方案**：批判性验证 AI 的输出。

- 运行测试验证代码。
- 要求 AI 解释代码逻辑。
- 查阅官方文档确认。

### 上下文丢失

**问题**：新对话中 AI 忘记了之前的上下文。

**解决方案**：在开始新对话时提供必要的上下文。

### 对话长度限制

**问题**：对话太长超出限制。

**解决方案**：总结并精简上下文，或开始新对话。

## 其他常见问题

### 忘记密码/密钥

**问题**：忘记了项目中的密码或 API 密钥。

**解决方案**：

- 如果是 GitHub 仓库中的密钥，立即轮换密钥。
- 启用 GitHub 的密钥扫描功能。
- 使用环境变量管理敏感信息。

### 电脑死机/断电

**问题**：开发过程中电脑异常。

**解决方案**：

- 使用版本控制，频繁提交。
- 开启自动保存。
- 定期备份重要文件。

### 学习方向迷茫

**问题**：不知道该学什么、从哪里开始。

**解决方案**：

- 参考本教程的学习路线。
- 根据兴趣和目标选择方向。
- 多做项目，在实践中学习。
- 加入社区，获取建议。
